{
    "name": "asset-loader",
    "readme": "<h1>asset-loader component</h1>\n<p>In the asset loader component we define some Apache conditionals, filepaths later used in <code>components/initial/initial.js</code>, a <code>useCookie</code> variable used on Node web servers and include <code>components/initial/initial.js</code>.</p>\n<h2>Apache conditionals</h2>\n<p>We define some apache conditionals. During integration we need to replace this with server side conditionals. We read out cookies and based on the outcome we render certain stylesheets.</p>\n<h2>Filepaths</h2>\n<p>We define some filepaths for the assets we want to load asynchronously. These are used in <code>components/initial/initial.js</code>.</p>\n<h2>Usecookie variable</h2>\n<p>When running the front-end guide locally on a Node wes server we define a <code>useCookie</code> variable, so that in <code>components/initial/initial.js</code> cookies will never get set. On an Apache web server these will get left out and cookies are set. During integration leave this inline script out as well so cookies are set.</p>\n<h2>Including initial.js</h2>\n<p>We include <code>components/initial/initial.js</code> as an inline script, which will load assets async and enhances capable browsers with javascript.</p>\n",
    "html": "<pre class=\"language-markup\"><code><span class=\"token comment\" spellcheck=\"true\">&lt;!-- asset-loader component --></span>\n\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- Check serverside for cookie 'icons'. If it is present render the link tag and put the value from the cookie in the href attribute. In development we do this with apache conditionals.\nAlso to not let it break when running on a node server we render it as a meta tag. On an Apache web server the meta starting and closing tag will never be rendered --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$HTTP_COOKIE = /.*icons=([^;]+);?.*/\" --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>&lt;meta name=\"ssi-only:icons\" content='<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n&lt;link rel=\"stylesheet\" href=\"<span class=\"token comment\" spellcheck=\"true\">&lt;!--#echo var=\"1\"--></span>\" />\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>'><span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- In no js browsers load the fallback icons --></span>\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>noscript</span><span class=\"token punctuation\" >></span></span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>link</span> <span class=\"token attr-name\" >rel</span><span class=\"token attr-value\" ><span class=\"token punctuation\" >=</span><span class=\"token punctuation\" >\"</span>stylesheet<span class=\"token punctuation\" >\"</span></span> <span class=\"token attr-name\" >href</span><span class=\"token attr-value\" ><span class=\"token punctuation\" >=</span><span class=\"token punctuation\" >\"</span>../../assets/icons-png-data.css<span class=\"token punctuation\" >\"</span></span><span class=\"token punctuation\" >></span></span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>noscript</span><span class=\"token punctuation\" >></span></span>\n\n<span class=\"token script\" ><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span>\n    <span class=\"token keyword\" >var</span> filePaths <span class=\"token operator\" >=</span> <span class=\"token punctuation\" >{</span>\n        rootpath <span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >{</span>\n            name <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"rootpath\"</span><span class=\"token punctuation\" >,</span>\n            path <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"../../\"</span>\n        <span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span>\n        js <span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >{</span>\n            name <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"full-js\"</span><span class=\"token punctuation\" >,</span>\n            path <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"../../assets/index.js\"</span>\n        <span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span>\n        icons <span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >{</span>\n            name <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"icons\"</span><span class=\"token punctuation\" >,</span>\n            svgData <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"../../assets/icons-svg-data.css\"</span><span class=\"token punctuation\" >,</span>\n            pngData <span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"../../assets/icons-png-data.css\"</span>\n        <span class=\"token punctuation\" >}</span>\n    <span class=\"token punctuation\" >}</span>\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- On a node server this script tag is rendered to never set cookies. On an Apache web server this will never get rendered. During integration leave this out. --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>\n<span class=\"token script\" ><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span><span class=\"token keyword\" >var</span> useCookie <span class=\"token operator\" >=</span> <span class=\"token keyword\" >false</span><span class=\"token punctuation\" >;</span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n\n<span class=\"token script\" ><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span><span class=\"token comment\" spellcheck=\"true\">/**\n * initial component\n */</span>\n<span class=\"token punctuation\" >(</span><span class=\"token keyword\" >function</span><span class=\"token punctuation\" >(</span>window<span class=\"token punctuation\" >,</span> document<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t<span class=\"token string\" >'use strict'</span><span class=\"token punctuation\" >;</span>\n\n\t<span class=\"token keyword\" >var</span> isCapableBrowser <span class=\"token operator\" >=</span> <span class=\"token string\" >'querySelector'</span> <span class=\"token keyword\" >in</span> document<span class=\"token punctuation\" >,</span>\n\t\tfiveYears <span class=\"token operator\" >=</span> <span class=\"token number\" >5</span> <span class=\"token operator\" >*</span> <span class=\"token number\" >365</span><span class=\"token punctuation\" >;</span>\n\n\t<span class=\"token comment\" spellcheck=\"true\">/*! loadCSS: load a CSS file asynchronously. [c]2014 @scottjehl, Filament Group, Inc. Licensed MIT */</span>\n\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >loadCSS<span class=\"token punctuation\" >(</span></span>href<span class=\"token punctuation\" >,</span> before<span class=\"token punctuation\" >,</span> media<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// Arguments explained:\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// `href` is the URL for your CSS file.\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// `before` optionally defines the element we'll use as a reference for injecting our &lt;link>\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// By default, `before` uses the first </span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span> element <span class=\"token keyword\" >in</span> the page<span class=\"token punctuation\" >.</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// However, since the order in which stylesheets are referenced matters, you might need a more specific location in your document.\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// If so, pass a different reference element to the `before` argument and it'll insert before that instead\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n</span>\t\t<span class=\"token keyword\" >var</span> ss <span class=\"token operator\" >=</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span><span class=\"token function\" >createElement<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >'link'</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >var</span> ref <span class=\"token operator\" >=</span> before <span class=\"token operator\" >||</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span><span class=\"token function\" >getElementsByTagName<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >'script'</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >[</span><span class=\"token number\" >0</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >var</span> sheets <span class=\"token operator\" >=</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span>styleSheets<span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >var</span> rootpath <span class=\"token operator\" >=</span> href<span class=\"token punctuation\" >.</span><span class=\"token function\" >split<span class=\"token punctuation\" >(</span></span>filePaths<span class=\"token punctuation\" >.</span>rootpath<span class=\"token punctuation\" >.</span>path<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >[</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >;</span>\n\t\tss<span class=\"token punctuation\" >.</span>rel <span class=\"token operator\" >=</span> <span class=\"token string\" >'stylesheet'</span><span class=\"token punctuation\" >;</span>\n\t\tss<span class=\"token punctuation\" >.</span>href <span class=\"token operator\" >=</span> href<span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// temporarily, set media to something non-matching to ensure it'll fetch without blocking render\n</span>\t\tss<span class=\"token punctuation\" >.</span>media <span class=\"token operator\" >=</span> <span class=\"token string\" >'only x'</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// inject link\n</span>\t\tref<span class=\"token punctuation\" >.</span>parentNode<span class=\"token punctuation\" >.</span><span class=\"token function\" >insertBefore<span class=\"token punctuation\" >(</span></span>ss<span class=\"token punctuation\" >,</span> ref<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// This function sets the link's media back to `all` so that the stylesheet applies once it loads\n</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// It is designed to poll until document.styleSheets includes the new sheet.\n</span>\t\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >toggleMedia<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token keyword\" >var</span> defined<span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token keyword\" >for</span> <span class=\"token punctuation\" >(</span><span class=\"token keyword\" >var</span> i <span class=\"token operator\" >=</span> <span class=\"token number\" >0</span><span class=\"token punctuation\" >;</span> i <span class=\"token operator\" >&lt;</span> sheets<span class=\"token punctuation\" >.</span>length<span class=\"token punctuation\" >;</span> i<span class=\"token operator\" >++</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\n\t\t\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>sheets<span class=\"token punctuation\" >[</span>i<span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >.</span>href <span class=\"token operator\" >&amp;&amp;</span> sheets<span class=\"token punctuation\" >[</span>i<span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >.</span>href<span class=\"token punctuation\" >.</span><span class=\"token function\" >indexOf<span class=\"token punctuation\" >(</span></span>rootpath<span class=\"token punctuation\" >)</span> <span class=\"token operator\" >></span> <span class=\"token operator\" >-</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\t\tdefined <span class=\"token operator\" >=</span> <span class=\"token keyword\" >true</span><span class=\"token punctuation\" >;</span>\n\t\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>defined<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\tss<span class=\"token punctuation\" >.</span>media <span class=\"token operator\" >=</span> media <span class=\"token operator\" >||</span> <span class=\"token string\" >'all'</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\t<span class=\"token keyword\" >else</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\t<span class=\"token function\" >setTimeout<span class=\"token punctuation\" >(</span></span>toggleMedia<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t<span class=\"token punctuation\" >}</span>\n\t\t<span class=\"token function\" >toggleMedia<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >return</span> ss<span class=\"token punctuation\" >;</span>\n\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token comment\" spellcheck=\"true\">/*! loadJS: load a JS file asynchronously. [c]2014 @scottjehl, Filament Group, Inc. (Based on http://goo.gl/REQGQ by Paul Irish). Licensed MIT */</span>\n\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >loadJS<span class=\"token punctuation\" >(</span></span> src<span class=\"token punctuation\" >,</span> cb <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token keyword\" >var</span> ref <span class=\"token operator\" >=</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span><span class=\"token function\" >getElementsByTagName<span class=\"token punctuation\" >(</span></span> <span class=\"token string\" >\"script\"</span> <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >[</span> <span class=\"token number\" >0</span> <span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >var</span> script <span class=\"token operator\" >=</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span><span class=\"token function\" >createElement<span class=\"token punctuation\" >(</span></span> <span class=\"token string\" >\"script\"</span> <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\tscript<span class=\"token punctuation\" >.</span>src <span class=\"token operator\" >=</span> src<span class=\"token punctuation\" >;</span>\n\t\tscript<span class=\"token punctuation\" >.</span>async <span class=\"token operator\" >=</span> <span class=\"token keyword\" >true</span><span class=\"token punctuation\" >;</span>\n\t\tref<span class=\"token punctuation\" >.</span>parentNode<span class=\"token punctuation\" >.</span><span class=\"token function\" >insertBefore<span class=\"token punctuation\" >(</span></span> script<span class=\"token punctuation\" >,</span> ref <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>cb <span class=\"token operator\" >&amp;&amp;</span> <span class=\"token keyword\" >typeof</span><span class=\"token punctuation\" >(</span>cb<span class=\"token punctuation\" >)</span> <span class=\"token operator\" >===</span> <span class=\"token string\" >\"function\"</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\tscript<span class=\"token punctuation\" >.</span>onload <span class=\"token operator\" >=</span> cb<span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span>\n\t\t<span class=\"token keyword\" >return</span> script<span class=\"token punctuation\" >;</span>\n\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >getCookie<span class=\"token punctuation\" >(</span></span>name<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">// if value is undefined, get the cookie value\n</span>\t\t<span class=\"token keyword\" >var</span> cookiestring <span class=\"token operator\" >=</span> <span class=\"token string\" >\"; \"</span> <span class=\"token operator\" >+</span> window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span>cookie<span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >var</span> cookies <span class=\"token operator\" >=</span> cookiestring<span class=\"token punctuation\" >.</span><span class=\"token function\" >split<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >\"; \"</span> <span class=\"token operator\" >+</span> name <span class=\"token operator\" >+</span> <span class=\"token string\" >\"=\"</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>cookies<span class=\"token punctuation\" >.</span>length <span class=\"token operator\" >===</span> <span class=\"token number\" >2</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token keyword\" >return</span> cookies<span class=\"token punctuation\" >.</span><span class=\"token function\" >pop<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >.</span><span class=\"token function\" >split<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >\";\"</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >.</span><span class=\"token function\" >shift<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span>\n\t\t<span class=\"token keyword\" >return</span> <span class=\"token keyword\" >null</span><span class=\"token punctuation\" >;</span>\n\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >setCookie<span class=\"token punctuation\" >(</span></span>name<span class=\"token punctuation\" >,</span> value<span class=\"token punctuation\" >,</span> days<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span><span class=\"token keyword\" >typeof</span> useCookie <span class=\"token operator\" >===</span> <span class=\"token string\" >'undefined'</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token comment\" spellcheck=\"true\">// if value is a false boolean, we'll treat that as a delete\n</span>\t\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>value <span class=\"token operator\" >===</span> <span class=\"token keyword\" >false</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\tdays <span class=\"token operator\" >=</span> <span class=\"token operator\" >-</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\t<span class=\"token keyword\" >var</span> expires<span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>days<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\t<span class=\"token keyword\" >var</span> date <span class=\"token operator\" >=</span> <span class=\"token keyword\" >new</span> <span class=\"token class-name\" >Date</span><span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t\tdate<span class=\"token punctuation\" >.</span><span class=\"token function\" >setTime<span class=\"token punctuation\" >(</span></span>date<span class=\"token punctuation\" >.</span><span class=\"token function\" >getTime<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span> <span class=\"token operator\" >+</span> <span class=\"token punctuation\" >(</span>days <span class=\"token operator\" >*</span> <span class=\"token number\" >24</span> <span class=\"token operator\" >*</span> <span class=\"token number\" >60</span> <span class=\"token operator\" >*</span> <span class=\"token number\" >60</span> <span class=\"token operator\" >*</span> <span class=\"token number\" >1000</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t\texpires <span class=\"token operator\" >=</span> <span class=\"token string\" >\"; expires=\"</span> <span class=\"token operator\" >+</span> date<span class=\"token punctuation\" >.</span><span class=\"token function\" >toGMTString<span class=\"token punctuation\" >(</span></span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\t<span class=\"token keyword\" >else</span> <span class=\"token punctuation\" >{</span>\n\t\t\t\texpires <span class=\"token operator\" >=</span> <span class=\"token string\" >\"\"</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span>\n\t\t\twindow<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span>cookie <span class=\"token operator\" >=</span> name <span class=\"token operator\" >+</span> <span class=\"token string\" >\"=\"</span> <span class=\"token operator\" >+</span> value <span class=\"token operator\" >+</span> expires <span class=\"token operator\" >+</span> <span class=\"token string\" >\"; path=/\"</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span>\n\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token comment\" spellcheck=\"true\">// modified grunticon loader used for loading the correct icon file\n</span>\t<span class=\"token keyword\" >function</span> <span class=\"token function\" >grunticon<span class=\"token punctuation\" >(</span></span> svgData<span class=\"token punctuation\" >,</span> pngData <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token keyword\" >var</span> svgSupported <span class=\"token operator\" >=</span> <span class=\"token operator\" >!</span><span class=\"token operator\" >!</span>window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span>createElementNS <span class=\"token operator\" >&amp;&amp;</span> <span class=\"token operator\" >!</span><span class=\"token operator\" >!</span>window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span><span class=\"token function\" >createElementNS<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >'http://www.w3.org/2000/svg'</span><span class=\"token punctuation\" >,</span> <span class=\"token string\" >'svg'</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >.</span>createSVGRect <span class=\"token operator\" >&amp;&amp;</span> <span class=\"token operator\" >!</span><span class=\"token operator\" >!</span>window<span class=\"token punctuation\" >.</span>document<span class=\"token punctuation\" >.</span>implementation<span class=\"token punctuation\" >.</span><span class=\"token function\" >hasFeature<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >\"http://www.w3.org/TR/SVG11/feature#Image\"</span><span class=\"token punctuation\" >,</span> <span class=\"token string\" >\"1.1\"</span><span class=\"token punctuation\" >)</span> <span class=\"token operator\" >&amp;&amp;</span> <span class=\"token operator\" >!</span><span class=\"token punctuation\" >(</span>window<span class=\"token punctuation\" >.</span>opera <span class=\"token operator\" >&amp;&amp;</span> navigator<span class=\"token punctuation\" >.</span>userAgent<span class=\"token punctuation\" >.</span><span class=\"token function\" >indexOf<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >'Chrome'</span><span class=\"token punctuation\" >)</span> <span class=\"token operator\" >===</span> <span class=\"token operator\" >-</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >,</span>\n\t\t\tload <span class=\"token operator\" >=</span> <span class=\"token keyword\" >function</span><span class=\"token punctuation\" >(</span> data <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t\t\t<span class=\"token keyword\" >var</span> cssUrl <span class=\"token operator\" >=</span> <span class=\"token punctuation\" >(</span>data <span class=\"token operator\" >&amp;&amp;</span> svgSupported<span class=\"token punctuation\" >)</span> <span class=\"token operator\" >?</span> svgData <span class=\"token punctuation\" >:</span> pngData<span class=\"token punctuation\" >;</span>\n\t\t\t\t<span class=\"token function\" >loadCSS<span class=\"token punctuation\" >(</span></span> cssUrl <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t\t<span class=\"token function\" >setCookie<span class=\"token punctuation\" >(</span></span>filePaths<span class=\"token punctuation\" >.</span>icons<span class=\"token punctuation\" >.</span>name<span class=\"token punctuation\" >,</span> cssUrl<span class=\"token punctuation\" >,</span> fiveYears<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t\t<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span>\n\n\t\t<span class=\"token comment\" spellcheck=\"true\">// Thanks Modernizr\n</span>\t\t\timg <span class=\"token operator\" >=</span> <span class=\"token keyword\" >new</span> <span class=\"token class-name\" >window<span class=\"token punctuation\" >.</span>Image</span><span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\n\t\timg<span class=\"token punctuation\" >.</span>onerror <span class=\"token operator\" >=</span> <span class=\"token keyword\" >function</span><span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token function\" >load<span class=\"token punctuation\" >(</span></span> <span class=\"token keyword\" >false</span> <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >;</span>\n\n\t\timg<span class=\"token punctuation\" >.</span>onload <span class=\"token operator\" >=</span> <span class=\"token keyword\" >function</span><span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token function\" >load<span class=\"token punctuation\" >(</span></span> img<span class=\"token punctuation\" >.</span>width <span class=\"token operator\" >===</span> <span class=\"token number\" >1</span> <span class=\"token operator\" >&amp;&amp;</span> img<span class=\"token punctuation\" >.</span>height <span class=\"token operator\" >===</span> <span class=\"token number\" >1</span> <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >;</span>\n\n\t\timg<span class=\"token punctuation\" >.</span>src <span class=\"token operator\" >=</span> \"data<span class=\"token punctuation\" >:</span>image<span class=\"token operator\" >/</span>gif<span class=\"token punctuation\" >;</span>base64<span class=\"token punctuation\" >,</span>R0lGODlhAQABAIAAAAAAAP<span class=\"token comment\" spellcheck=\"true\">///ywAAAAAAQABAAACAUwAOw==\";\n</span>\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token comment\" spellcheck=\"true\">// load icons\n</span>\t<span class=\"token keyword\" >if</span><span class=\"token punctuation\" >(</span> filePaths<span class=\"token punctuation\" >.</span>icons <span class=\"token operator\" >&amp;&amp;</span> <span class=\"token operator\" >!</span><span class=\"token function\" >getCookie<span class=\"token punctuation\" >(</span></span>filePaths<span class=\"token punctuation\" >.</span>icons<span class=\"token punctuation\" >.</span>name<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token function\" >grunticon<span class=\"token punctuation\" >(</span></span>filePaths<span class=\"token punctuation\" >.</span>icons<span class=\"token punctuation\" >.</span>svgData<span class=\"token punctuation\" >,</span> filePaths<span class=\"token punctuation\" >.</span>icons<span class=\"token punctuation\" >.</span>pngData<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t<span class=\"token punctuation\" >}</span>\n\n\t<span class=\"token comment\" spellcheck=\"true\">// load js async and toggle no-js class\n</span>\t<span class=\"token keyword\" >if</span> <span class=\"token punctuation\" >(</span>isCapableBrowser<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t<span class=\"token function\" >loadJS<span class=\"token punctuation\" >(</span></span>filePaths<span class=\"token punctuation\" >.</span>js<span class=\"token punctuation\" >.</span>path<span class=\"token punctuation\" >,</span> <span class=\"token keyword\" >function</span> <span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n\t\t\t<span class=\"token comment\" spellcheck=\"true\">// Enable styling differentiation between browsers who passed our isCapableBrowser test\n</span>\t\t\tdocument<span class=\"token punctuation\" >.</span>documentElement<span class=\"token punctuation\" >.</span>className <span class=\"token operator\" >=</span> document<span class=\"token punctuation\" >.</span>documentElement<span class=\"token punctuation\" >.</span>className<span class=\"token punctuation\" >.</span><span class=\"token function\" >replace<span class=\"token punctuation\" >(</span></span><span class=\"token string\" >'no-js'</span><span class=\"token punctuation\" >,</span> <span class=\"token string\" >'js'</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t\t<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\n\t<span class=\"token punctuation\" >}</span>\n\n<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >(</span>window<span class=\"token punctuation\" >,</span> document<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- /asset-loader component --></span></code></pre>",
    "css": "",
    "template": "<pre class=\"language-twig\"><code><span class=\"token other\" ><span class=\"token comment\" spellcheck=\"true\">&lt;!-- asset-loader component --></span>\n\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- Check serverside for cookie 'icons'. If it is present render the link tag and put the value from the cookie in the href attribute. In development we do this with apache conditionals.\nAlso to not let it break when running on a node server we render it as a meta tag. On an Apache web server the meta starting and closing tag will never be rendered --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$HTTP_COOKIE = /.*icons=([^;]+);?.*/\" --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>&lt;meta name=\"ssi-only:icons\" content='<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n&lt;link rel=\"stylesheet\" href=\"<span class=\"token comment\" spellcheck=\"true\">&lt;!--#echo var=\"1\"--></span>\" />\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>'><span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- In no js browsers load the fallback icons --></span>\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>noscript</span><span class=\"token punctuation\" >></span></span>&lt;link rel=\"stylesheet\" href=\"</span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{{</span></span> <span class=\"token property\" >paths</span><span class=\"token punctuation\" >.</span><span class=\"token property\" >assets</span> <span class=\"token rd\" ><span class=\"token punctuation\" >}}</span></span></span><span class=\"token other\" >icons-png-data.css\"><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>noscript</span><span class=\"token punctuation\" >></span></span>\n\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span>\n    var filePaths = {\n        rootpath : {\n            name : \"rootpath\",\n            path : \"</span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{{</span></span> <span class=\"token property\" >paths</span><span class=\"token punctuation\" >.</span><span class=\"token property\" >root</span> <span class=\"token rd\" ><span class=\"token punctuation\" >}}</span></span></span><span class=\"token other\" >\"\n        },\n        js : {\n            name : \"full-js\",\n            path : \"</span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{{</span></span> <span class=\"token property\" >paths</span><span class=\"token punctuation\" >.</span><span class=\"token property\" >assets</span> <span class=\"token rd\" ><span class=\"token punctuation\" >}}</span></span></span><span class=\"token other\" >index.js\"\n        },\n        icons : {\n            name : \"icons\",\n            svgData : \"</span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{{</span></span> <span class=\"token property\" >paths</span><span class=\"token punctuation\" >.</span><span class=\"token property\" >assets</span> <span class=\"token rd\" ><span class=\"token punctuation\" >}}</span></span></span><span class=\"token other\" >icons-svg-data.css\",\n            pngData : \"</span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{{</span></span> <span class=\"token property\" >paths</span><span class=\"token punctuation\" >.</span><span class=\"token property\" >assets</span> <span class=\"token rd\" ><span class=\"token punctuation\" >}}</span></span></span><span class=\"token other\" >icons-png-data.css\"\n        }\n    }\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- On a node server this script tag is rendered to never set cookies. On an Apache web server this will never get rendered. During integration leave this out. --></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#if expr=\"$nonExistingVar\"--></span>\n<span class=\"token script\" ><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span><span class=\"token keyword\" >var</span> useCookie <span class=\"token operator\" >=</span> <span class=\"token keyword\" >false</span><span class=\"token punctuation\" >;</span><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--#endif--></span>\n\n<span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;</span>script</span><span class=\"token punctuation\" >></span></span></span><span class=\"token tag\" ><span class=\"token ld\" ><span class=\"token punctuation\" >{%</span> <span class=\"token keyword\" >include</span></span> <span class=\"token string\" ><span class=\"token punctuation\" >\"</span>components/initial/initial.js<span class=\"token punctuation\" >\"</span></span> <span class=\"token rd\" ><span class=\"token punctuation\" >%}</span></span></span><span class=\"token other\" ><span class=\"token tag\" ><span class=\"token tag\" ><span class=\"token punctuation\" >&lt;/</span>script</span><span class=\"token punctuation\" >></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!-- /asset-loader component --></span></span></code></pre>",
    "less": "",
    "js": ""
}